---
import BaseLayout from '@/layouts/Layout.astro';
import { getCollection } from 'astro:content';

const resume = await getCollection('resume');
---

<BaseLayout title="Resume · Enrique Quero Vilar's Resume" description="Explore the professional profile of Enrique Quero Vilar, a Senior Frontend Developer specializing in Vue.js, Angular, and modern web technologies. Discover his career journey, key projects, and contributions to enterprise software development. Connect with Enrique and enhance your team with his expertise!">
  <section>
    <header>
      <h2 class="font-semibold text-2xl mb-6">Work Experience</h2>
    </header>
    <div id="time-line">
      <ol class="relative border-s border-green-400">
        {resume.flatMap((item) => item.data.work_experience).map((experience) => (
          <li class="mb-10 ms-4">
            <div class="absolute w-3 h-3 bg-green-400 rounded-full mt-1.5 -start-1.5"></div>
            <time class="mb-1 text-sm font-normal leading-none">
              {experience.start_date} – {experience.end_date}
            </time>
            <h3 class="text-lg font-semibold">
              {experience.position} at {experience.company}, {experience.location}
            </h3>
            <ul class="list-disc ms-4">
              {experience.responsibilities.map((responsibility) => (
                <li class="mb-2">{responsibility}</li>
              ))}
            </ul>
          </li>
        ))}
      </ol>
    </div>
  </section>
</BaseLayout>
